<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Sukuna | King of Dragons</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0; font-family: Arial, sans-serif;
      transition: background 0.3s, color 0.3s;
    }
    body.light { background: #fff; color: #000; }
    body.dark { background: #000; color: #fff; }
    header, footer {
      padding: 10px 20px;
      display: flex; justify-content: space-between; align-items: center;
      border-bottom: 1px solid #999;
    }
    nav button {
      margin: 0 5px; padding: 6px 12px;
      border: none; cursor: pointer;
      border-radius: 6px;
    }
    nav button.active { background: red; color: white; }
    section { padding: 20px; max-width: 700px; margin: auto; }
    input { display: block; margin: 8px 0; padding: 8px; width: 100%; }
    .msg { margin-top: 10px; }
    .ok { color: lime; }
    .err { color: red; }
  </style>
</head>
<body class="dark">
  <header>
    <div>
      <span style="color:red;font-size:20px">ğŸ‰ Sukuna</span>
      <div style="font-size:12px">King of Dragons</div>
    </div>
    <nav>
      <button onclick="showPage('home')" id="btnHome">Ø®Ø§Ù†Ù‡</button>
      <button onclick="showPage('contact')" id="btnContact">Ø§Ø±ØªØ¨Ø§Ø·</button>
      <button onclick="showPage('auth')" id="btnAuth">ÙˆØ±ÙˆØ¯/Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>
      <button onclick="showPage('panel')" id="btnPanel">Ù¾Ù†Ù„</button>
      <button onclick="toggleTheme()">ğŸŒ™/â˜€ï¸</button>
    </nav>
  </header>

  <main>
    <!-- Ø®Ø§Ù†Ù‡ -->
    <section id="home" class="page">
      <h1>Sukuna</h1>
      <h2 style="color:red">King of Dragons</h2>
      <pre>
Ú¯Ø§Ù…Ø¨Ø§Ø±Ù‡ Ú¯Ø§Ù…Ø¨Ø§Ø±Ù‡ 
Ø¨ÛŒØ´ØªØ± Ø¨ÛŒØ´ØªØ± ØªÙ„Ø§Ø´ Ú©Ù†
Ù‡Ø±Ú©Ø§Ø±ÛŒ Ø¨Ù‡ ÛŒÚ© Ù¾Ø´Øª Ú©Ø§Ø± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù‡
Ù¾Ø³ Ø¨ÛŒØ§ÛŒØ¯ Ø¨Ø§ Ù‡Ù… ÛŒÙ‡ Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø®ÙˆØ¨ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…
      </pre>
    </section>

    <!-- Ø§Ø±ØªØ¨Ø§Ø· -->
    <section id="contact" class="page" style="display:none">
      <h2>Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ù†</h2>
      <p>ğŸ“ 09045849673</p>
    </section>

    <!-- ÙˆØ±ÙˆØ¯/Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… -->
    <section id="auth" class="page" style="display:none">
      <h2 id="authTitle">ÙˆØ±ÙˆØ¯</h2>
      <input type="text" id="username" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ (ÙÙ‚Ø· Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…)" style="display:none">
      <input type="email" id="email" placeholder="Ø§ÛŒÙ…ÛŒÙ„">
      <input type="password" id="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
      <button onclick="authAction()">ØªØ£ÛŒÛŒØ¯</button>
      <button onclick="switchMode()">ØªØºÛŒÛŒØ± Ø¨Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>
      <div id="authMsg" class="msg"></div>
    </section>

    <!-- Ù¾Ù†Ù„ -->
    <section id="panel" class="page" style="display:none">
      <h2>Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h2>
      <div id="panelContent"></div>
    </section>
  </main>

  <footer>
    <span>Â© <span id="year"></span> Sukuna</span>
  </footer>

  <script>
    const pages = ['home','contact','auth','panel'];
    let mode = 'login';
    let currentUser = JSON.parse(localStorage.getItem('sukunaUser')) || null;

    function showPage(p){
      pages.forEach(pg=>{
        document.getElementById(pg).style.display = (pg===p)?'block':'none';
        document.getElementById('btn'+pg.charAt(0).toUpperCase()+pg.slice(1))?.classList.remove('active');
      });
      document.getElementById('btn'+p.charAt(0).toUpperCase()+p.slice(1))?.classList.add('active');
      if(p==='panel') loadPanel();
    }

    function toggleTheme(){
      document.body.classList.toggle('dark');
      document.body.classList.toggle('light');
      localStorage.setItem('theme',document.body.classList.contains('dark')?'dark':'light');
    }

    function switchMode(){
      mode = (mode==='login'?'register':'login');
      document.getElementById('authTitle').innerText = (mode==='login'?'ÙˆØ±ÙˆØ¯':'Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…');
      document.getElementById('username').style.display = (mode==='login'?'none':'block');
      document.querySelector('#auth button').innerText = (mode==='login'?'ÙˆØ±ÙˆØ¯':'Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…');
      document.querySelector('#auth button+button').innerText = (mode==='login'?'ØªØºÛŒÛŒØ± Ø¨Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…':'ØªØºÛŒÛŒØ± Ø¨Ù‡ ÙˆØ±ÙˆØ¯');
      document.getElementById('authMsg').innerText='';
    }

    function authAction(){
      const email=document.getElementById('email').value.trim();
      const pass=document.getElementById('password').value.trim();
      const user=document.getElementById('username').value.trim();
      const msg=document.getElementById('authMsg');
      msg.innerText='';
      let users=JSON.parse(localStorage.getItem('sukunaUsers'))||[];
      if(mode==='register'){
        if(!user||!email||!pass) return msg.innerText='Ù¾Ø± Ú©Ù†ÛŒØ¯';
        if(users.find(u=>u.email===email)) return msg.innerText='Ø§ÛŒÙ…ÛŒÙ„ ØªÚ©Ø±Ø§Ø±ÛŒ';
        const u={id:Date.now(),username:user,email,password:pass};
        users.push(u); localStorage.setItem('sukunaUsers',JSON.stringify(users));
        currentUser=u; localStorage.setItem('sukunaUser',JSON.stringify(u));
        msg.innerText='Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ø¯'; showPage('panel');
      }else{
        const f=users.find(u=>u.email===email&&u.password===pass);
        if(!f){ msg.innerText='Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø´ØªØ¨Ø§Ù‡'; return;}
        currentUser=f; localStorage.setItem('sukunaUser',JSON.stringify(f));
        msg.innerText='ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚'; showPage('panel');
      }
    }

    function loadPanel(){
      const div=document.getElementById('panelContent');
      if(!currentUser){div.innerHTML='<p>Ø§Ø¨ØªØ¯Ø§ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</p>';return;}
      div.innerHTML=`<p>Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒ ${currentUser.username}</p>
        <p>Ø¯Ø±Ø¨Ø§Ø±Ù‡: King of Dragons</p>
        <button onclick="logout()">Ø®Ø±ÙˆØ¬</button>`;
    }
    function logout(){ currentUser=null; localStorage.removeItem('sukunaUser'); showPage('home'); }

    // init
    (function(){
      const th=localStorage.getItem('theme')||'dark';
      document.body.classList.remove('dark','light');
      document.body.classList.add(th);
      document.getElementById('year').innerText=new Date().getFullYear();
      showPage('home');
      if(currentUser) showPage('panel');
    })();
  </script>
</body>
</html>
